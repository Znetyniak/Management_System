{% extends 'base.html' %}
{% block title %}Vehicles{% endblock %}
{% block content %}
<h1>Vehicles</h1>

<form method="get" class="filters" style="margin-bottom:12px">
  <input name="q" placeholder="Search brand/model/vin" value="{{ request.args.get('q','') }}">
  <button class="button" type="submit">Search</button>
  <a class="button" href="{{ url_for('store.dashboard') }}">Back</a>
</form>

<table class="table">
  <thead>
    <tr><th>ID</th><th>Brand</th><th>Model</th><th>Year</th><th>VIN</th><th>State</th><th>Actions</th></tr>
  </thead>
  <tbody>
    {% for v in vehicles %}
    <tr>
      <td>{{ v.id }}</td>
      <td>{{ v.brand }}</td>
      <td>{{ v.model }}</td>
      <td>{{ v.year }}</td>
      <td>{{ v.vin }}</td>
      <td>{{ v.technical_state }}</td>
      <td><a href="{{ url_for('store.vehicle_detail', vid=v.id) }}">View</a></td>
    </tr>
    {% else %}
    <tr><td colspan="7">No vehicles found.</td></tr>
    {% endfor %}
  </tbody>
</table>

{% include 'includes/_pagination.html' %}
{% endblock %}
